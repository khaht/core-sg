cb7eb00f7608665abc390e8fe4889eb6
const fse = require('fs-extra');

const walk = require('../utils/walk.util');

const loadFunction = file => {
  try {
    return require(file);
  } catch (error) {
    throw new Error(`Could not load function ${file}: ${error.message}`);
  }
};

const loadFunctions = dir => {
  if (!fse.existsSync(dir)) return {};
  return walk(dir, {
    loader: loadFunction
  });
};

module.exports = loadFunctions;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ1bmN0aW9ucy5sb2FkLmpzIl0sIm5hbWVzIjpbImZzZSIsInJlcXVpcmUiLCJ3YWxrIiwibG9hZEZ1bmN0aW9uIiwiZmlsZSIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwibG9hZEZ1bmN0aW9ucyIsImRpciIsImV4aXN0c1N5bmMiLCJsb2FkZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQW5COztBQUVBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLG9CQUFELENBQXBCOztBQUVBLE1BQU1FLFlBQVksR0FBSUMsSUFBRCxJQUFVO0FBQzdCLE1BQUk7QUFDRixXQUFPSCxPQUFPLENBQUNHLElBQUQsQ0FBZDtBQUNELEdBRkQsQ0FFRSxPQUFPQyxLQUFQLEVBQWM7QUFDZCxVQUFNLElBQUlDLEtBQUosQ0FBVywyQkFBMEJGLElBQUssS0FBSUMsS0FBSyxDQUFDRSxPQUFRLEVBQTVELENBQU47QUFDRDtBQUNGLENBTkQ7O0FBUUEsTUFBTUMsYUFBYSxHQUFJQyxHQUFELElBQVM7QUFDN0IsTUFBSSxDQUFDVCxHQUFHLENBQUNVLFVBQUosQ0FBZUQsR0FBZixDQUFMLEVBQTBCLE9BQU8sRUFBUDtBQUUxQixTQUFPUCxJQUFJLENBQUNPLEdBQUQsRUFBTTtBQUFFRSxJQUFBQSxNQUFNLEVBQUVSO0FBQVYsR0FBTixDQUFYO0FBQ0QsQ0FKRDs7QUFNQVMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCTCxhQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZzZSA9IHJlcXVpcmUoJ2ZzLWV4dHJhJyk7XG5cbmNvbnN0IHdhbGsgPSByZXF1aXJlKCcuLi91dGlscy93YWxrLnV0aWwnKTtcblxuY29uc3QgbG9hZEZ1bmN0aW9uID0gKGZpbGUpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gcmVxdWlyZShmaWxlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBsb2FkIGZ1bmN0aW9uICR7ZmlsZX06ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgfVxufTtcblxuY29uc3QgbG9hZEZ1bmN0aW9ucyA9IChkaXIpID0+IHtcbiAgaWYgKCFmc2UuZXhpc3RzU3luYyhkaXIpKSByZXR1cm4ge307XG5cbiAgcmV0dXJuIHdhbGsoZGlyLCB7IGxvYWRlcjogbG9hZEZ1bmN0aW9uIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBsb2FkRnVuY3Rpb25zO1xuIl19