22f01cc08adc0cdfe059b8e8c546ae2e
/**
 * Load Modules is the root module loader.
 * This is where all the app environment is loaded
 * - APIs
 * - Middlewres
 */
const loadApis = require('./api.load'); // const loadAdmin = require('./load-admin');


const loadPlugins = require('./plugins.load');

const loadMiddlewares = require('./middleware.load'); // const loadExtensions = require('./load-extensions');


module.exports = async sgApp => {
  const [api, middlewares, plugins] = await Promise.all([loadApis(sgApp), loadMiddlewares(sgApp), loadPlugins(sgApp)]);
  return {
    api,
    plugins,
    middlewares
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMubG9hZC5qcyJdLCJuYW1lcyI6WyJsb2FkQXBpcyIsInJlcXVpcmUiLCJsb2FkUGx1Z2lucyIsImxvYWRNaWRkbGV3YXJlcyIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZ0FwcCIsImFwaSIsIm1pZGRsZXdhcmVzIiwicGx1Z2lucyIsIlByb21pc2UiLCJhbGwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFlBQUQsQ0FBeEIsQyxDQUNBOzs7QUFDQSxNQUFNQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyxnQkFBRCxDQUEzQjs7QUFDQSxNQUFNRSxlQUFlLEdBQUdGLE9BQU8sQ0FBQyxtQkFBRCxDQUEvQixDLENBQ0E7OztBQUVBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsTUFBT0MsS0FBUCxJQUFpQjtBQUNoQyxRQUFNLENBQUNDLEdBQUQsRUFBTUMsV0FBTixFQUFtQkMsT0FBbkIsSUFBOEIsTUFBTUMsT0FBTyxDQUFDQyxHQUFSLENBQVksQ0FDcERYLFFBQVEsQ0FBQ00sS0FBRCxDQUQ0QyxFQUVwREgsZUFBZSxDQUFDRyxLQUFELENBRnFDLEVBR3BESixXQUFXLENBQUNJLEtBQUQsQ0FIeUMsQ0FBWixDQUExQztBQU1BLFNBQU87QUFDTEMsSUFBQUEsR0FESztBQUVMRSxJQUFBQSxPQUZLO0FBR0xELElBQUFBO0FBSEssR0FBUDtBQUtELENBWkQiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExvYWQgTW9kdWxlcyBpcyB0aGUgcm9vdCBtb2R1bGUgbG9hZGVyLlxuICogVGhpcyBpcyB3aGVyZSBhbGwgdGhlIGFwcCBlbnZpcm9ubWVudCBpcyBsb2FkZWRcbiAqIC0gQVBJc1xuICogLSBNaWRkbGV3cmVzXG4gKi9cblxuY29uc3QgbG9hZEFwaXMgPSByZXF1aXJlKCcuL2FwaS5sb2FkJyk7XG4vLyBjb25zdCBsb2FkQWRtaW4gPSByZXF1aXJlKCcuL2xvYWQtYWRtaW4nKTtcbmNvbnN0IGxvYWRQbHVnaW5zID0gcmVxdWlyZSgnLi9wbHVnaW5zLmxvYWQnKTtcbmNvbnN0IGxvYWRNaWRkbGV3YXJlcyA9IHJlcXVpcmUoJy4vbWlkZGxld2FyZS5sb2FkJyk7XG4vLyBjb25zdCBsb2FkRXh0ZW5zaW9ucyA9IHJlcXVpcmUoJy4vbG9hZC1leHRlbnNpb25zJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXN5bmMgKHNnQXBwKSA9PiB7XG4gIGNvbnN0IFthcGksIG1pZGRsZXdhcmVzLCBwbHVnaW5zXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBsb2FkQXBpcyhzZ0FwcCksXG4gICAgbG9hZE1pZGRsZXdhcmVzKHNnQXBwKSxcbiAgICBsb2FkUGx1Z2lucyhzZ0FwcCksXG4gIF0pO1xuXG4gIHJldHVybiB7XG4gICAgYXBpLFxuICAgIHBsdWdpbnMsXG4gICAgbWlkZGxld2FyZXMsXG4gIH07XG59O1xuIl19