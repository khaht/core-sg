62d1924d1fde49042e244160760bc234
_getJestObj().mock('../router/utils/composeEndpoint');

function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");

  _getJestObj = () => jest;

  return jest;
}

const router = require('../router');

describe('Router', () => {
  test('Should init router', () => {
    const sgApp = {
      config: {
        routes: ['auth', 'home', 'user']
      },
      router: {}
    };
    const {
      initialize
    } = router(sgApp);
    expect(initialize).toBeDefined();
    expect(typeof initialize).toBe('function');
  });
  test('Should call initialize', () => {
    const createEndpointComposer = require('../router/utils/composeEndpoint');

    createEndpointComposer.mockReturnValueOnce(jest.fn(() => 'router'));
    const sgApp = {
      config: {
        routes: ['auth', 'home', 'user']
      },
      router: {}
    };
    const {
      initialize
    } = router(sgApp);
    initialize();
    expect(createEndpointComposer).toHaveBeenCalled();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlci5pbmRleC50ZXN0LmpzIl0sIm5hbWVzIjpbIm1vY2siLCJyb3V0ZXIiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJ0ZXN0Iiwic2dBcHAiLCJjb25maWciLCJyb3V0ZXMiLCJpbml0aWFsaXplIiwiZXhwZWN0IiwidG9CZURlZmluZWQiLCJ0b0JlIiwiY3JlYXRlRW5kcG9pbnRDb21wb3NlciIsIm1vY2tSZXR1cm5WYWx1ZU9uY2UiLCJqZXN0IiwiZm4iLCJ0b0hhdmVCZWVuQ2FsbGVkIl0sIm1hcHBpbmdzIjoiQUFFQSxjQUFLQSxJQUFMLENBQVUsaUNBQVY7Ozs7Ozs7Ozs7OztBQUZBLE1BQU1DLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBdEI7O0FBSUFDLFFBQVEsQ0FBQyxRQUFELEVBQVcsTUFBTTtBQUN2QkMsRUFBQUEsSUFBSSxDQUFDLG9CQUFELEVBQXVCLE1BQU07QUFDL0IsVUFBTUMsS0FBSyxHQUFHO0FBQUVDLE1BQUFBLE1BQU0sRUFBRTtBQUFFQyxRQUFBQSxNQUFNLEVBQUUsQ0FBQyxNQUFELEVBQVMsTUFBVCxFQUFpQixNQUFqQjtBQUFWLE9BQVY7QUFBZ0ROLE1BQUFBLE1BQU0sRUFBRTtBQUF4RCxLQUFkO0FBQ0EsVUFBTTtBQUFFTyxNQUFBQTtBQUFGLFFBQWlCUCxNQUFNLENBQUNJLEtBQUQsQ0FBN0I7QUFDQUksSUFBQUEsTUFBTSxDQUFDRCxVQUFELENBQU4sQ0FBbUJFLFdBQW5CO0FBQ0FELElBQUFBLE1BQU0sQ0FBQyxPQUFPRCxVQUFSLENBQU4sQ0FBMEJHLElBQTFCLENBQStCLFVBQS9CO0FBQ0QsR0FMRyxDQUFKO0FBT0FQLEVBQUFBLElBQUksQ0FBQyx3QkFBRCxFQUEyQixNQUFNO0FBQ25DLFVBQU1RLHNCQUFzQixHQUFHVixPQUFPLENBQUMsaUNBQUQsQ0FBdEM7O0FBQ0FVLElBQUFBLHNCQUFzQixDQUFDQyxtQkFBdkIsQ0FBMkNDLElBQUksQ0FBQ0MsRUFBTCxDQUFRLE1BQU0sUUFBZCxDQUEzQztBQUNBLFVBQU1WLEtBQUssR0FBRztBQUFFQyxNQUFBQSxNQUFNLEVBQUU7QUFBRUMsUUFBQUEsTUFBTSxFQUFFLENBQUMsTUFBRCxFQUFTLE1BQVQsRUFBaUIsTUFBakI7QUFBVixPQUFWO0FBQWdETixNQUFBQSxNQUFNLEVBQUU7QUFBeEQsS0FBZDtBQUNBLFVBQU07QUFBRU8sTUFBQUE7QUFBRixRQUFpQlAsTUFBTSxDQUFDSSxLQUFELENBQTdCO0FBQ0FHLElBQUFBLFVBQVU7QUFDVkMsSUFBQUEsTUFBTSxDQUFDRyxzQkFBRCxDQUFOLENBQStCSSxnQkFBL0I7QUFDRCxHQVBHLENBQUo7QUFRRCxDQWhCTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgcm91dGVyID0gcmVxdWlyZSgnLi4vcm91dGVyJyk7XG5cbmplc3QubW9jaygnLi4vcm91dGVyL3V0aWxzL2NvbXBvc2VFbmRwb2ludCcpO1xuXG5kZXNjcmliZSgnUm91dGVyJywgKCkgPT4ge1xuICB0ZXN0KCdTaG91bGQgaW5pdCByb3V0ZXInLCAoKSA9PiB7XG4gICAgY29uc3Qgc2dBcHAgPSB7IGNvbmZpZzogeyByb3V0ZXM6IFsnYXV0aCcsICdob21lJywgJ3VzZXInXSB9LCByb3V0ZXI6IHt9IH07XG4gICAgY29uc3QgeyBpbml0aWFsaXplIH0gPSByb3V0ZXIoc2dBcHApO1xuICAgIGV4cGVjdChpbml0aWFsaXplKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdCh0eXBlb2YgaW5pdGlhbGl6ZSkudG9CZSgnZnVuY3Rpb24nKTtcbiAgfSk7XG5cbiAgdGVzdCgnU2hvdWxkIGNhbGwgaW5pdGlhbGl6ZScsICgpID0+IHtcbiAgICBjb25zdCBjcmVhdGVFbmRwb2ludENvbXBvc2VyID0gcmVxdWlyZSgnLi4vcm91dGVyL3V0aWxzL2NvbXBvc2VFbmRwb2ludCcpO1xuICAgIGNyZWF0ZUVuZHBvaW50Q29tcG9zZXIubW9ja1JldHVyblZhbHVlT25jZShqZXN0LmZuKCgpID0+ICdyb3V0ZXInKSk7XG4gICAgY29uc3Qgc2dBcHAgPSB7IGNvbmZpZzogeyByb3V0ZXM6IFsnYXV0aCcsICdob21lJywgJ3VzZXInXSB9LCByb3V0ZXI6IHt9IH07XG4gICAgY29uc3QgeyBpbml0aWFsaXplIH0gPSByb3V0ZXIoc2dBcHApO1xuICAgIGluaXRpYWxpemUoKTtcbiAgICBleHBlY3QoY3JlYXRlRW5kcG9pbnRDb21wb3NlcikudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcbn0pO1xuIl19