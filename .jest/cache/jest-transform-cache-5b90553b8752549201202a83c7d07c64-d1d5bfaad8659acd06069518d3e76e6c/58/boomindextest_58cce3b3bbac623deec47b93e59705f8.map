{"version":3,"sources":["boom.index.test.js"],"names":["boom","require","lodash","describe","app","use","jest","fn","initialize","handlerError","test","expect","toBeDefined","toBe","toHaveBeenCalledTimes","isObject","req","res","next"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,SAAD,CAApB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AAEAE,QAAQ,CAAC,eAAD,EAAkB,MAAM;AAC9B,QAAMC,GAAG,GAAG;AAAEC,IAAAA,GAAG,EAAEC,IAAI,CAACC,EAAL;AAAP,GAAZ;AACA,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAA+BT,IAAI,CAAC;AAAEI,IAAAA;AAAF,GAAD,CAAzC;AACAM,EAAAA,IAAI,CAAC,2BAAD,EAA8B,MAAM;AACtCC,IAAAA,MAAM,CAACH,UAAD,CAAN,CAAmBI,WAAnB;AACAD,IAAAA,MAAM,CAAC,OAAOH,UAAR,CAAN,CAA0BK,IAA1B,CAA+B,UAA/B;AACAF,IAAAA,MAAM,CAACF,YAAD,CAAN,CAAqBG,WAArB;AACAD,IAAAA,MAAM,CAAC,OAAOF,YAAR,CAAN,CAA4BI,IAA5B,CAAiC,UAAjC;AACD,GALG,CAAJ;AAOAH,EAAAA,IAAI,CAAC,wBAAD,EAA2B,MAAM;AACnCF,IAAAA,UAAU;AACVG,IAAAA,MAAM,CAACP,GAAG,CAACC,GAAL,CAAN,CAAgBS,qBAAhB,CAAsC,CAAtC;AACD,GAHG,CAAJ;AAKAJ,EAAAA,IAAI,CAAC,4DAAD,EAA+D,MAAM;AACvER,IAAAA,MAAM,CAACa,QAAP,GAAkBT,IAAI,CAACC,EAAL,CAAQ,MAAM,IAAd,CAAlB;AACA,UAAMS,GAAG,GAAG,EAAZ;AACA,UAAMC,GAAG,GAAG,EAAZ;AACA,UAAMC,IAAI,GAAGZ,IAAI,CAACC,EAAL,EAAb;AACAE,IAAAA,YAAY,CAACO,GAAD,EAAMC,GAAN,EAAWC,IAAX,CAAZ;AACAP,IAAAA,MAAM,CAACO,IAAD,CAAN,CAAaJ,qBAAb,CAAmC,CAAnC;AACD,GAPG,CAAJ;AASAJ,EAAAA,IAAI,CAAC,2BAAD,EAA8B,MAAM;AACtCR,IAAAA,MAAM,CAACa,QAAP,GAAkBT,IAAI,CAACC,EAAL,CAAQ,MAAM,KAAd,CAAlB;AACA,UAAMS,GAAG,GAAG,EAAZ;AACA,UAAMC,GAAG,GAAG,EAAZ;AACA,UAAMC,IAAI,GAAGZ,IAAI,CAACC,EAAL,EAAb;AACAE,IAAAA,YAAY,CAACO,GAAD,EAAMC,GAAN,EAAWC,IAAX,CAAZ;AACAP,IAAAA,MAAM,CAACO,IAAD,CAAN,CAAaJ,qBAAb,CAAmC,CAAnC;AACD,GAPG,CAAJ;AAQD,CAhCO,CAAR","sourcesContent":["const boom = require('../boom');\nconst lodash = require('lodash');\n\ndescribe('Handler error', () => {\n  const app = { use: jest.fn() };\n  const { initialize, handlerError } = boom({ app });\n  test('Should init handler error', () => {\n    expect(initialize).toBeDefined();\n    expect(typeof initialize).toBe('function');\n    expect(handlerError).toBeDefined();\n    expect(typeof handlerError).toBe('function');\n  });\n\n  test('Should call initialize', () => {\n    initialize();\n    expect(app.use).toHaveBeenCalledTimes(1);\n  });\n\n  test('Should add error to response object and call next function', () => {\n    lodash.isObject = jest.fn(() => true);\n    const req = {};\n    const res = {};\n    const next = jest.fn();\n    handlerError(req, res, next);\n    expect(next).toHaveBeenCalledTimes(1);\n  });\n\n  test('Should call next function', () => {\n    lodash.isObject = jest.fn(() => false);\n    const req = {};\n    const res = {};\n    const next = jest.fn();\n    handlerError(req, res, next);\n    expect(next).toHaveBeenCalledTimes(1);\n  });\n});\n"]}