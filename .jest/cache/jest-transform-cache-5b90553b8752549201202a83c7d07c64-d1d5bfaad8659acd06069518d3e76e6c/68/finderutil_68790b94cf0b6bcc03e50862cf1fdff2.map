{"version":3,"sources":["finder.util.js"],"names":["_","require","module","exports","api","controller","isObject","Error","has","identity","toLowerCase","isString","where","findKey","o","get"],"mappings":"AAAA;AACA;AACA;AAEA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAjB;AAEA;AACA;AACA;;;AAEAC,MAAM,CAACC,OAAP,GAAiB,CAACC,GAAD,EAAMC,UAAN,KAAqB;AACpC,MAAI,CAACL,CAAC,CAACM,QAAF,CAAWF,GAAX,CAAL,EAAsB;AACpB,UAAM,IAAIG,KAAJ,CAAU,qBAAV,CAAN;AACD;;AAED,MAAIP,CAAC,CAACM,QAAF,CAAWD,UAAX,KAA0BL,CAAC,CAACQ,GAAF,CAAMH,UAAN,EAAkB,UAAlB,CAA9B,EAA6D;AAC3D;AACAA,IAAAA,UAAU,GAAGA,UAAU,CAACI,QAAX,CAAoBC,WAApB,EAAb;AACD,GAHD,MAGO,IAAIV,CAAC,CAACW,QAAF,CAAWN,UAAX,CAAJ,EAA4B;AACjC;AACAA,IAAAA,UAAU,GAAGA,UAAU,CAACK,WAAX,EAAb;AACD,GAHM,MAGA;AACL,UAAM,IAAIH,KAAJ,CAAU,iCAAV,CAAN;AACD;;AAED,QAAMK,KAAK,GAAGZ,CAAC,CAACa,OAAF,CAAUT,GAAV,EAAgBU,CAAD,IAAOd,CAAC,CAACe,GAAF,CAAMD,CAAN,EAAU,eAAcT,UAAW,EAAnC,CAAtB,CAAd,CAfoC,CAiBpC;;;AACA,SAAOO,KAAP;AACD,CAnBD","sourcesContent":["/**\n * Module dependencies\n */\n\nconst _ = require('lodash');\n\n/**\n * Find controller's location\n */\n\nmodule.exports = (api, controller) => {\n  if (!_.isObject(api)) {\n    throw new Error('Should be an object');\n  }\n\n  if (_.isObject(controller) && _.has(controller, 'identity')) {\n    // eslint-disable-next-line\n    controller = controller.identity.toLowerCase();\n  } else if (_.isString(controller)) {\n    // eslint-disable-next-line\n    controller = controller.toLowerCase();\n  } else {\n    throw new Error('Should be an object or a string');\n  }\n\n  const where = _.findKey(api, (o) => _.get(o, `controllers.${controller}`));\n\n  // Return the API's name where the controller is located\n  return where;\n};\n"]}