a7d3a3fe88cb01500c213311e1ff6af6
const {
  createCoreApi
} = require('../index');

describe('Core API', () => {
  test('Should create core API with single type', () => {
    const sgApp = {};
    const model = {
      kind: 'singleType',
      modelName: 'auth'
    };
    const api = {
      auth: jest.fn()
    };
    expect(createCoreApi({
      sgApp,
      model,
      api
    })).toEqual({
      service: {
        model,
        sgApp
      },
      controller: {
        model,
        service: {
          model,
          sgApp
        }
      }
    });
  });
  test('Should create core API with collection type', () => {
    const sgApp = {};
    const model = {
      kind: 'collectionType',
      modelName: 'auth'
    };
    const api = {
      auth: jest.fn()
    };
    expect(createCoreApi({
      sgApp,
      model,
      api
    })).toEqual({
      service: {
        model,
        sgApp
      },
      controller: {
        model,
        service: {
          model,
          sgApp
        }
      }
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRlc3QuanMiXSwibmFtZXMiOlsiY3JlYXRlQ29yZUFwaSIsInJlcXVpcmUiLCJkZXNjcmliZSIsInRlc3QiLCJzZ0FwcCIsIm1vZGVsIiwia2luZCIsIm1vZGVsTmFtZSIsImFwaSIsImF1dGgiLCJqZXN0IiwiZm4iLCJleHBlY3QiLCJ0b0VxdWFsIiwic2VydmljZSIsImNvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFvQkMsT0FBTyxDQUFDLFVBQUQsQ0FBakM7O0FBRUFDLFFBQVEsQ0FBQyxVQUFELEVBQWEsTUFBTTtBQUN6QkMsRUFBQUEsSUFBSSxDQUFDLHlDQUFELEVBQTRDLE1BQU07QUFDcEQsVUFBTUMsS0FBSyxHQUFHLEVBQWQ7QUFDQSxVQUFNQyxLQUFLLEdBQUc7QUFBRUMsTUFBQUEsSUFBSSxFQUFFLFlBQVI7QUFBc0JDLE1BQUFBLFNBQVMsRUFBRTtBQUFqQyxLQUFkO0FBQ0EsVUFBTUMsR0FBRyxHQUFHO0FBQUVDLE1BQUFBLElBQUksRUFBRUMsSUFBSSxDQUFDQyxFQUFMO0FBQVIsS0FBWjtBQUNBQyxJQUFBQSxNQUFNLENBQUNaLGFBQWEsQ0FBQztBQUFFSSxNQUFBQSxLQUFGO0FBQVNDLE1BQUFBLEtBQVQ7QUFBZ0JHLE1BQUFBO0FBQWhCLEtBQUQsQ0FBZCxDQUFOLENBQTZDSyxPQUE3QyxDQUFxRDtBQUNuREMsTUFBQUEsT0FBTyxFQUFFO0FBQUVULFFBQUFBLEtBQUY7QUFBU0QsUUFBQUE7QUFBVCxPQUQwQztBQUVuRFcsTUFBQUEsVUFBVSxFQUFFO0FBQ1ZWLFFBQUFBLEtBRFU7QUFFVlMsUUFBQUEsT0FBTyxFQUFFO0FBQUVULFVBQUFBLEtBQUY7QUFBU0QsVUFBQUE7QUFBVDtBQUZDO0FBRnVDLEtBQXJEO0FBT0QsR0FYRyxDQUFKO0FBYUFELEVBQUFBLElBQUksQ0FBQyw2Q0FBRCxFQUFnRCxNQUFNO0FBQ3hELFVBQU1DLEtBQUssR0FBRyxFQUFkO0FBQ0EsVUFBTUMsS0FBSyxHQUFHO0FBQUVDLE1BQUFBLElBQUksRUFBRSxnQkFBUjtBQUEwQkMsTUFBQUEsU0FBUyxFQUFFO0FBQXJDLEtBQWQ7QUFDQSxVQUFNQyxHQUFHLEdBQUc7QUFBRUMsTUFBQUEsSUFBSSxFQUFFQyxJQUFJLENBQUNDLEVBQUw7QUFBUixLQUFaO0FBQ0FDLElBQUFBLE1BQU0sQ0FBQ1osYUFBYSxDQUFDO0FBQUVJLE1BQUFBLEtBQUY7QUFBU0MsTUFBQUEsS0FBVDtBQUFnQkcsTUFBQUE7QUFBaEIsS0FBRCxDQUFkLENBQU4sQ0FBNkNLLE9BQTdDLENBQXFEO0FBQ25EQyxNQUFBQSxPQUFPLEVBQUU7QUFBRVQsUUFBQUEsS0FBRjtBQUFTRCxRQUFBQTtBQUFULE9BRDBDO0FBRW5EVyxNQUFBQSxVQUFVLEVBQUU7QUFDVlYsUUFBQUEsS0FEVTtBQUVWUyxRQUFBQSxPQUFPLEVBQUU7QUFBRVQsVUFBQUEsS0FBRjtBQUFTRCxVQUFBQTtBQUFUO0FBRkM7QUFGdUMsS0FBckQ7QUFPRCxHQVhHLENBQUo7QUFZRCxDQTFCTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBjcmVhdGVDb3JlQXBpIH0gPSByZXF1aXJlKCcuLi9pbmRleCcpO1xuXG5kZXNjcmliZSgnQ29yZSBBUEknLCAoKSA9PiB7XG4gIHRlc3QoJ1Nob3VsZCBjcmVhdGUgY29yZSBBUEkgd2l0aCBzaW5nbGUgdHlwZScsICgpID0+IHtcbiAgICBjb25zdCBzZ0FwcCA9IHt9O1xuICAgIGNvbnN0IG1vZGVsID0geyBraW5kOiAnc2luZ2xlVHlwZScsIG1vZGVsTmFtZTogJ2F1dGgnIH07XG4gICAgY29uc3QgYXBpID0geyBhdXRoOiBqZXN0LmZuKCkgfTtcbiAgICBleHBlY3QoY3JlYXRlQ29yZUFwaSh7IHNnQXBwLCBtb2RlbCwgYXBpIH0pKS50b0VxdWFsKHtcbiAgICAgIHNlcnZpY2U6IHsgbW9kZWwsIHNnQXBwIH0sXG4gICAgICBjb250cm9sbGVyOiB7XG4gICAgICAgIG1vZGVsLFxuICAgICAgICBzZXJ2aWNlOiB7IG1vZGVsLCBzZ0FwcCB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdCgnU2hvdWxkIGNyZWF0ZSBjb3JlIEFQSSB3aXRoIGNvbGxlY3Rpb24gdHlwZScsICgpID0+IHtcbiAgICBjb25zdCBzZ0FwcCA9IHt9O1xuICAgIGNvbnN0IG1vZGVsID0geyBraW5kOiAnY29sbGVjdGlvblR5cGUnLCBtb2RlbE5hbWU6ICdhdXRoJyB9O1xuICAgIGNvbnN0IGFwaSA9IHsgYXV0aDogamVzdC5mbigpIH07XG4gICAgZXhwZWN0KGNyZWF0ZUNvcmVBcGkoeyBzZ0FwcCwgbW9kZWwsIGFwaSB9KSkudG9FcXVhbCh7XG4gICAgICBzZXJ2aWNlOiB7IG1vZGVsLCBzZ0FwcCB9LFxuICAgICAgY29udHJvbGxlcjoge1xuICAgICAgICBtb2RlbCxcbiAgICAgICAgc2VydmljZTogeyBtb2RlbCwgc2dBcHAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=