{"version":3,"sources":["plugins.load.test.js"],"names":["_","require","loadPlugins","describe","defaultConfig","plugins","email","provider","providerOptions","host","port","auth","user","pass","settings","defaultFrom","defaultReplyTo","installedPlugins","config","get","path","defaultValue","set","val","has","test","resp","dir","process","cwd","expect","not","toBeUndefined"],"mappings":"AAAA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAjB;;AACA,MAAMC,WAAW,GAAGD,OAAO,CAAC,iBAAD,CAA3B;;AAEAE,QAAQ,CAAC,cAAD,EAAiB,MAAM;AAC7B,QAAMC,aAAa,GAAG;AACpBC,IAAAA,OAAO,EAAE;AACPC,MAAAA,KAAK,EAAE;AACLC,QAAAA,QAAQ,EAAE,YADL;AAELC,QAAAA,eAAe,EAAE;AACfC,UAAAA,IAAI,EAAE,gBADS;AAEfC,UAAAA,IAAI,EAAE,KAFS;AAGfC,UAAAA,IAAI,EAAE;AACJC,YAAAA,IAAI,EAAE,uBADF;AAEJC,YAAAA,IAAI,EAAE;AAFF;AAHS,SAFZ;AAULC,QAAAA,QAAQ,EAAE;AACRC,UAAAA,WAAW,EAAE,uBADL;AAERC,UAAAA,cAAc,EAAE;AAFR;AAVL;AADA,KADW;AAkBpBC,IAAAA,gBAAgB,EAAE;AAlBE,GAAtB;AAqBA,QAAMC,MAAM,GAAG,EACb,GAAGd,aADU;;AAEbe,IAAAA,GAAG,CAACC,IAAD,EAAOC,YAAP,EAAqB;AACtB,aAAOrB,CAAC,CAACmB,GAAF,CAAMf,aAAN,EAAqBgB,IAArB,EAA2BC,YAA3B,CAAP;AACD,KAJY;;AAMbC,IAAAA,GAAG,CAACF,IAAD,EAAOG,GAAP,EAAY;AACbvB,MAAAA,CAAC,CAACsB,GAAF,CAAMlB,aAAN,EAAqBgB,IAArB,EAA2BG,GAA3B;;AACA,aAAO,IAAP;AACD,KATY;;AAWbC,IAAAA,GAAG,CAACJ,IAAD,EAAO;AACR,aAAOpB,CAAC,CAACwB,GAAF,CAAMpB,aAAN,EAAqBgB,IAArB,CAAP;AACD;;AAbY,GAAf;AAgBAK,EAAAA,IAAI,CAAC,qBAAD,EAAwB,YAAY;AACtC,UAAMC,IAAI,GAAG,MAAMxB,WAAW,CAAC;AAAEyB,MAAAA,GAAG,EAAEC,OAAO,CAACC,GAAR,EAAP;AAAsBX,MAAAA;AAAtB,KAAD,CAA9B;AACAY,IAAAA,MAAM,CAACJ,IAAI,CAACpB,KAAN,CAAN,CAAmByB,GAAnB,CAAuBC,aAAvB;AACD,GAHG,CAAJ;AAID,CA1CO,CAAR","sourcesContent":["const _ = require('lodash');\nconst loadPlugins = require('../plugins.load');\n\ndescribe('Load Plugins', () => {\n  const defaultConfig = {\n    plugins: {\n      email: {\n        provider: 'nodemailer',\n        providerOptions: {\n          host: 'smtp.gmail.com',\n          port: '587',\n          auth: {\n            user: 'no-reply@c-plus.cloud',\n            pass: \",/IX>U.tABm~y'I$%Py^wZ`8x\\\\b7+5=L\",\n          },\n        },\n        settings: {\n          defaultFrom: 'no-reply@c-plus.cloud',\n          defaultReplyTo: 'no-reply@c-plus.cloud',\n        },\n      },\n    },\n    installedPlugins: []\n  };\n\n  const config = {\n    ...defaultConfig,\n    get(path, defaultValue) {\n      return _.get(defaultConfig, path, defaultValue);\n    },\n\n    set(path, val) {\n      _.set(defaultConfig, path, val);\n      return this;\n    },\n\n    has(path) {\n      return _.has(defaultConfig, path);\n    },\n  };\n\n  test('Should Load Plugins', async () => {\n    const resp = await loadPlugins({ dir: process.cwd(), config });\n    expect(resp.email).not.toBeUndefined();\n  });\n});\n"]}