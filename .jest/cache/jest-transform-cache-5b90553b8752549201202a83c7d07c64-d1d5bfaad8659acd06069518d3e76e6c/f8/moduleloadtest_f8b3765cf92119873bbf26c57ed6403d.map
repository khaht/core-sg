{"version":3,"sources":["module.load.test.js"],"names":["mock","jest","fn","Promise","resolve","loadModule","require","describe","sgApp","config","test","api","plugins","middlewares","hook","expect","toBe"],"mappings":"AAEA,cAAKA,IAAL,CAAU,aAAV,EAAyB,MAAMC,IAAI,CAACC,EAAL,CAAQ,MAAMC,OAAO,CAACC,OAAR,CAAgB,UAAhB,CAAd,CAA/B;;AACA,cAAKJ,IAAL,CAAU,iBAAV,EAA6B,MAC3BC,IAAI,CAACC,EAAL,CAAQ,MAAMC,OAAO,CAACC,OAAR,CAAgB,aAAhB,CAAd,CADF;;AAGA,cAAKJ,IAAL,CAAU,oBAAV,EAAgC,MAC9BC,IAAI,CAACC,EAAL,CAAQ,MAAMC,OAAO,CAACC,OAAR,CAAgB,iBAAhB,CAAd,CADF;;;;;;;;;;;;AANA,MAAMC,UAAU,GAAGC,OAAO,CAAC,iBAAD,CAA1B;;AAUAC,QAAQ,CAAC,aAAD,EAAgB,MAAM;AAC5B,QAAMC,KAAK,GAAG;AAAEC,IAAAA,MAAM,EAAE;AAAV,GAAd;AACAC,EAAAA,IAAI,CAAC,6CAAD,EAAgD,YAAY;AAC9D,UAAM;AAAEC,MAAAA,GAAF;AAAOC,MAAAA,OAAP;AAAgBC,MAAAA,WAAhB;AAA6BC,MAAAA;AAA7B,QAAsC,MAAMT,UAAU,CAACG,KAAD,CAA5D;AACAO,IAAAA,MAAM,CAACJ,GAAD,CAAN,CAAYK,IAAZ,CAAiB,UAAjB;AACAD,IAAAA,MAAM,CAACH,OAAD,CAAN,CAAgBI,IAAhB,CAAqB,aAArB;AACAD,IAAAA,MAAM,CAACF,WAAD,CAAN,CAAoBG,IAApB,CAAyB,iBAAzB;AACD,GALG,CAAJ;AAMD,CARO,CAAR","sourcesContent":["const loadModule = require('../modules.load');\n\njest.mock('../api.load', () => jest.fn(() => Promise.resolve('loadApis')));\njest.mock('../plugins.load', () =>\n  jest.fn(() => Promise.resolve('loadPlugins'))\n);\njest.mock('../middleware.load', () =>\n  jest.fn(() => Promise.resolve('loadMiddlewares'))\n);\n\ndescribe('Load module', () => {\n  const sgApp = { config: {} };\n  test('Should load api, plugins, middlewares, hook', async () => {\n    const { api, plugins, middlewares, hook } = await loadModule(sgApp);\n    expect(api).toBe('loadApis');\n    expect(plugins).toBe('loadPlugins');\n    expect(middlewares).toBe('loadMiddlewares');\n  });\n});\n"]}