e0e139a6ef07bced9421cb54d597491c
const assert = require('assert');

const _ = require('lodash');

module.exports = (initialConfig = {}) => {
  assert(typeof initialConfig === 'object' && initialConfig !== null, 'Initial config must be an object');

  const config = _.cloneDeep(initialConfig);

  return Object.assign(config, {
    get(path, defaultValue) {
      return _.get(config, path, defaultValue);
    },

    set(path, val) {
      _.set(config, path, val);

      return this;
    },

    has(path) {
      return _.has(config, path);
    }

  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy1wcm92aWRlci5qcyJdLCJuYW1lcyI6WyJhc3NlcnQiLCJyZXF1aXJlIiwiXyIsIm1vZHVsZSIsImV4cG9ydHMiLCJpbml0aWFsQ29uZmlnIiwiY29uZmlnIiwiY2xvbmVEZWVwIiwiT2JqZWN0IiwiYXNzaWduIiwiZ2V0IiwicGF0aCIsImRlZmF1bHRWYWx1ZSIsInNldCIsInZhbCIsImhhcyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNQyxDQUFDLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQWpCOztBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUIsQ0FBQ0MsYUFBYSxHQUFHLEVBQWpCLEtBQXdCO0FBQ3ZDTCxFQUFBQSxNQUFNLENBQUMsT0FBT0ssYUFBUCxLQUF5QixRQUF6QixJQUFxQ0EsYUFBYSxLQUFLLElBQXhELEVBQThELGtDQUE5RCxDQUFOOztBQUVBLFFBQU1DLE1BQU0sR0FBR0osQ0FBQyxDQUFDSyxTQUFGLENBQVlGLGFBQVosQ0FBZjs7QUFFQSxTQUFPRyxNQUFNLENBQUNDLE1BQVAsQ0FBY0gsTUFBZCxFQUFzQjtBQUMzQkksSUFBQUEsR0FBRyxDQUFDQyxJQUFELEVBQU9DLFlBQVAsRUFBcUI7QUFDdEIsYUFBT1YsQ0FBQyxDQUFDUSxHQUFGLENBQU1KLE1BQU4sRUFBY0ssSUFBZCxFQUFvQkMsWUFBcEIsQ0FBUDtBQUNELEtBSDBCOztBQUszQkMsSUFBQUEsR0FBRyxDQUFDRixJQUFELEVBQU9HLEdBQVAsRUFBWTtBQUNiWixNQUFBQSxDQUFDLENBQUNXLEdBQUYsQ0FBTVAsTUFBTixFQUFjSyxJQUFkLEVBQW9CRyxHQUFwQjs7QUFDQSxhQUFPLElBQVA7QUFDRCxLQVIwQjs7QUFVM0JDLElBQUFBLEdBQUcsQ0FBQ0osSUFBRCxFQUFPO0FBQ1IsYUFBT1QsQ0FBQyxDQUFDYSxHQUFGLENBQU1ULE1BQU4sRUFBY0ssSUFBZCxDQUFQO0FBQ0Q7O0FBWjBCLEdBQXRCLENBQVA7QUFjRCxDQW5CRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChpbml0aWFsQ29uZmlnID0ge30pID0+IHtcbiAgYXNzZXJ0KHR5cGVvZiBpbml0aWFsQ29uZmlnID09PSAnb2JqZWN0JyAmJiBpbml0aWFsQ29uZmlnICE9PSBudWxsLCAnSW5pdGlhbCBjb25maWcgbXVzdCBiZSBhbiBvYmplY3QnKTtcblxuICBjb25zdCBjb25maWcgPSBfLmNsb25lRGVlcChpbml0aWFsQ29uZmlnKTtcblxuICByZXR1cm4gT2JqZWN0LmFzc2lnbihjb25maWcsIHtcbiAgICBnZXQocGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gXy5nZXQoY29uZmlnLCBwYXRoLCBkZWZhdWx0VmFsdWUpO1xuICAgIH0sXG5cbiAgICBzZXQocGF0aCwgdmFsKSB7XG4gICAgICBfLnNldChjb25maWcsIHBhdGgsIHZhbCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgaGFzKHBhdGgpIHtcbiAgICAgIHJldHVybiBfLmhhcyhjb25maWcsIHBhdGgpO1xuICAgIH0sXG4gIH0pO1xufTtcbiJdfQ==