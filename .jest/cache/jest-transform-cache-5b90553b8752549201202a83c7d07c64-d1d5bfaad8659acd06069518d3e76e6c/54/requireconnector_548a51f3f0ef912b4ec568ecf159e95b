6277777cb30736bee92f1ddec41e026e
const path = require('path');

const VError = require('verror');
/**
 * Requires a database connector
 * @param {string} connector connector name
 * @param {DatabaseManager} databaseManager reference to the database manager
 */


module.exports = function requireConnector(connector) {
  sgApp.log.debug(`connector: ${connector}`);

  if (!connector) {
    throw new VError({
      name: 'ConnectorError'
    }, 'initialize connector without name');
  }

  try {
    // return require(`sgapp-connector-${connector}`);
    const connectorPath = path.resolve(__dirname, 'connector', connector);
    return require(connectorPath);
  } catch (error) {
    throw new VError({
      name: 'ConnectorError',
      cause: error
    }, 'initialize connector "%s"', connector);
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcXVpcmUtY29ubmVjdG9yLmpzIl0sIm5hbWVzIjpbInBhdGgiLCJyZXF1aXJlIiwiVkVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcXVpcmVDb25uZWN0b3IiLCJjb25uZWN0b3IiLCJzZ0FwcCIsImxvZyIsImRlYnVnIiwibmFtZSIsImNvbm5lY3RvclBhdGgiLCJyZXNvbHZlIiwiX19kaXJuYW1lIiwiZXJyb3IiLCJjYXVzZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXRCO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0FFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixTQUFTQyxnQkFBVCxDQUEwQkMsU0FBMUIsRUFBcUM7QUFDcERDLEVBQUFBLEtBQUssQ0FBQ0MsR0FBTixDQUFVQyxLQUFWLENBQWlCLGNBQWFILFNBQVUsRUFBeEM7O0FBQ0EsTUFBSSxDQUFDQSxTQUFMLEVBQWdCO0FBQ2QsVUFBTSxJQUFJSixNQUFKLENBQ0o7QUFBRVEsTUFBQUEsSUFBSSxFQUFFO0FBQVIsS0FESSxFQUVKLG1DQUZJLENBQU47QUFJRDs7QUFFRCxNQUFJO0FBQ0Y7QUFDQSxVQUFNQyxhQUFhLEdBQUdYLElBQUksQ0FBQ1ksT0FBTCxDQUFhQyxTQUFiLEVBQXdCLFdBQXhCLEVBQXFDUCxTQUFyQyxDQUF0QjtBQUNBLFdBQU9MLE9BQU8sQ0FBQ1UsYUFBRCxDQUFkO0FBQ0QsR0FKRCxDQUlFLE9BQU9HLEtBQVAsRUFBYztBQUNkLFVBQU0sSUFBSVosTUFBSixDQUNKO0FBQUVRLE1BQUFBLElBQUksRUFBRSxnQkFBUjtBQUEwQkssTUFBQUEsS0FBSyxFQUFFRDtBQUFqQyxLQURJLEVBRUosMkJBRkksRUFHSlIsU0FISSxDQUFOO0FBS0Q7QUFDRixDQXBCRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCBWRXJyb3IgPSByZXF1aXJlKCd2ZXJyb3InKTtcblxuLyoqXG4gKiBSZXF1aXJlcyBhIGRhdGFiYXNlIGNvbm5lY3RvclxuICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvciBjb25uZWN0b3IgbmFtZVxuICogQHBhcmFtIHtEYXRhYmFzZU1hbmFnZXJ9IGRhdGFiYXNlTWFuYWdlciByZWZlcmVuY2UgdG8gdGhlIGRhdGFiYXNlIG1hbmFnZXJcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXF1aXJlQ29ubmVjdG9yKGNvbm5lY3Rvcikge1xuICBzZ0FwcC5sb2cuZGVidWcoYGNvbm5lY3RvcjogJHtjb25uZWN0b3J9YCk7XG4gIGlmICghY29ubmVjdG9yKSB7XG4gICAgdGhyb3cgbmV3IFZFcnJvcihcbiAgICAgIHsgbmFtZTogJ0Nvbm5lY3RvckVycm9yJyB9LFxuICAgICAgJ2luaXRpYWxpemUgY29ubmVjdG9yIHdpdGhvdXQgbmFtZSdcbiAgICApO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyByZXR1cm4gcmVxdWlyZShgc2dhcHAtY29ubmVjdG9yLSR7Y29ubmVjdG9yfWApO1xuICAgIGNvbnN0IGNvbm5lY3RvclBhdGggPSBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnY29ubmVjdG9yJywgY29ubmVjdG9yKTtcbiAgICByZXR1cm4gcmVxdWlyZShjb25uZWN0b3JQYXRoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgVkVycm9yKFxuICAgICAgeyBuYW1lOiAnQ29ubmVjdG9yRXJyb3InLCBjYXVzZTogZXJyb3IgfSxcbiAgICAgICdpbml0aWFsaXplIGNvbm5lY3RvciBcIiVzXCInLFxuICAgICAgY29ubmVjdG9yXG4gICAgKTtcbiAgfVxufTtcbiJdfQ==