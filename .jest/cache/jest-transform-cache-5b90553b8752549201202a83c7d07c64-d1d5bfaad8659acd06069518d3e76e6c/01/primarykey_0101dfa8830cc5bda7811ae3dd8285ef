73463e89925e171c6f398d4ee4671b1c
const _ = require('lodash');
/**
 * If exists, rename the key "id" by the primary key name
 * of the model ("_id" by default for mongoose).
 */


const replaceIdByPrimaryKey = (params, model) => {
  const newParams = { ...params
  };

  if (_.has(params, 'id')) {
    delete newParams.id;
    newParams[model.primaryKey] = params[model.primaryKey] || params.id;
  }

  return newParams;
};

module.exports = {
  replaceIdByPrimaryKey
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByaW1hcnkta2V5LmpzIl0sIm5hbWVzIjpbIl8iLCJyZXF1aXJlIiwicmVwbGFjZUlkQnlQcmltYXJ5S2V5IiwicGFyYW1zIiwibW9kZWwiLCJuZXdQYXJhbXMiLCJoYXMiLCJpZCIsInByaW1hcnlLZXkiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxRQUFELENBQWpCO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLE1BQU1DLHFCQUFxQixHQUFHLENBQUNDLE1BQUQsRUFBU0MsS0FBVCxLQUFtQjtBQUMvQyxRQUFNQyxTQUFTLEdBQUcsRUFBRSxHQUFHRjtBQUFMLEdBQWxCOztBQUNBLE1BQUlILENBQUMsQ0FBQ00sR0FBRixDQUFNSCxNQUFOLEVBQWMsSUFBZCxDQUFKLEVBQXlCO0FBQ3ZCLFdBQU9FLFNBQVMsQ0FBQ0UsRUFBakI7QUFDQUYsSUFBQUEsU0FBUyxDQUFDRCxLQUFLLENBQUNJLFVBQVAsQ0FBVCxHQUE4QkwsTUFBTSxDQUFDQyxLQUFLLENBQUNJLFVBQVAsQ0FBTixJQUE0QkwsTUFBTSxDQUFDSSxFQUFqRTtBQUNEOztBQUNELFNBQU9GLFNBQVA7QUFDRCxDQVBEOztBQVNBSSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDZlIsRUFBQUE7QUFEZSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuLyoqXG4gKiBJZiBleGlzdHMsIHJlbmFtZSB0aGUga2V5IFwiaWRcIiBieSB0aGUgcHJpbWFyeSBrZXkgbmFtZVxuICogb2YgdGhlIG1vZGVsIChcIl9pZFwiIGJ5IGRlZmF1bHQgZm9yIG1vbmdvb3NlKS5cbiAqL1xuY29uc3QgcmVwbGFjZUlkQnlQcmltYXJ5S2V5ID0gKHBhcmFtcywgbW9kZWwpID0+IHtcbiAgY29uc3QgbmV3UGFyYW1zID0geyAuLi5wYXJhbXMgfTtcbiAgaWYgKF8uaGFzKHBhcmFtcywgJ2lkJykpIHtcbiAgICBkZWxldGUgbmV3UGFyYW1zLmlkO1xuICAgIG5ld1BhcmFtc1ttb2RlbC5wcmltYXJ5S2V5XSA9IHBhcmFtc1ttb2RlbC5wcmltYXJ5S2V5XSB8fCBwYXJhbXMuaWQ7XG4gIH1cbiAgcmV0dXJuIG5ld1BhcmFtcztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICByZXBsYWNlSWRCeVByaW1hcnlLZXksXG59O1xuIl19